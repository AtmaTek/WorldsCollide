# NOTE: (address - 1e80) * 0x8 + bit
# e.g. (1eb7 - 1e80) * 0x8 + 0x1 = 1b9 (airship visible)
#      (1f43 - 1e80) * 0x8 + 0x3 = 61b (characters on narshe battlefield)

SOLDIER_DOORWAY_ARVIS_HOUSE = 0x688
SHADOW_SOUTH_FIGARO_PUB = 0x305
EDGAR_FIGARO_CASTLE_THRONE = 0x308
GUARDS_FIGARO_CASTLE = 0x30d
SOLDIER_SOUTH_FIGARO_CAVE = 0x312
CHAINED_CELES_SOUTH_FIGARO = 0x317
VARGAS_MT_KOLTS_EXIT = 0x31c
LONE_WOLF_FIGARO_CASTLE = 0x359
BIRD_CIDS_ISLAND_CLIFFS = 0x370
GERAD_NIKEAH_BOAT = 0x378
THIEVES_FIGARO_CAVE_TURTLE = 0x37f
PRISONERS_FIGARO_CASTLE = 0x380
PRISON_GUARD_FIGARO_CASTLE = 0x381
DEAD_SOLDIERS_FIGARO_CASTLE = 0x382
GERAD_PRISON_FIGARO_CASTLE = 0x383
BLOCK_INSIDE_DOORS_FIGARO_CASTLE = 0x397 # keep player from leaving while underground
SIEGFRIED_FIGARO_CAVE_ENTRANCE = 0x398
SIEGFRIED_FIGARO_CAVE_CHEST = 0x399
EAST_SOLDIER_IMPERIAL_CAMP = 0x401
WEST_SOLDIER_IMPERIAL_CAMP = 0x402
GENERAL_LEO_IMPERIAL_CAMP = 0x403
KEFKA_IMPERIAL_CAMP = 0x405
WESTMOST_SOLDIER_IMPERIAL_CAMP = 0x407
MESSENGER_SOLDIER_IMPERIAL_CAMP = 0x408
MARANDA_SOLDIER_IMPERIAL_CAMP = 0x409
DOMA_GENERAL_IMPERIAL_CAMP = 0x40c
ENTRANCE_BLOCK_RETURNER_HIDEOUT = 0x413
CHEST_ROOM_BLOCK_RETURNER_HIDEOUT = 0x414
BANON_IN_ROOM_RETURNER_HIDEOUT = 0x41d
SHADOW_GAU_FATHER_HOUSE = 0x426
INTERCEPTOR_GAU_FATHER_HOUSE = 0x427
RAFT_LETE_RIVER = 0x428
TREASURE_ROOM_DOOR_IMPERIAL_BASE = 0x45d
GUARD_BLOCKING_SEALED_GATE_IMPERIAL_BASE = 0x467
KEFKA_SEALED_GATE = 0x46e
BLOCK_SEALED_GATE = 0x471
CHEST_IMPERIAL_CAMP = 0x4ee
VARIOUS_DOMA_POISONING = 0x511
PHANTOM_TRAIN_SAVE_POINT = 0x517
GHOST_SHOP_PHANTOM_FOREST = 0x32a # mine, replacing sabin in choose a scenario
SHADOW_INTERCEPTOR_KOHLINGEN_INN = 0x651
MAN_OPERA_ENTRANCE = 0x341
IMPRESARIO_OPERA_ENTRANCE = 0x340
IMPRESARIO_OPERA_LOBBY = 0x332
ULTROS_OPERA_LOBBY = 0x342
ULTROS_LETTER_OPERA_GROUND = 0x345
DANCING_COUPLE1_OPERA = 0x346
FIGHTING_SOLDIERS_OPERA = 0x347
DANCING_COUPLE2_OPERA = 0x348
FIGHTING_SOLDIERS_OPERA_CEILING = 0x349
ULTROS_OPERA_CEILING = 0x34b
RAT1_OPERA_CEILING = 0x34c
RAT2_OPERA_CEILING = 0x34d
RAT3_OPERA_CEILING = 0x34e
RAT4_OPERA_CEILING = 0x34f
RAT5_OPERA_CEILING = 0x350
CEILING_DOOR_OPERA_HOUSE = 0x355
CID_IN_BED_CID_HOUSE = 0x367
CID_WALKING_CID_HOUSE = 0x36e
IMPRESARIO_OPERA_PANICKING = 0x36f
MAN_AT_COUNTER_OPERA = 0x386
DRAGON_OPERA_HOUSE = 0x387
IMPRESARIO_OPERA_SITTING = 0x3f4
SETZER_BLACKJACK_COIN_TOSS = 0x456
DARILL_FALCON_DECK = 0x3f3
ESPER_SELLER_TZEN = 0x666
GENERAL_LEO_SOLDIERS_ALBROOK_PORT = 0x542
ATTACK_GHOSTS_PHANTOM_TRAIN = 0x507 # also leo/guards ship, strago/inteceptor thamasa inn and npcs outside burning house
STRAGO_THAMASA_HOME = 0x516
FIRST_MAYOR_THAMASA = 0x51b
PARTY_THAMASA_AFTER_KEFKA = 0x520
GOGO_ZONE_EATER = 0x54b
BEHEMOTH_VELDT_CAVE = 0x555
THAMASA_CITIZENS = 0x559
INTERCEPTOR_STRAGO_ROOM = 0x55b
SHADOW_AFTER_FLAME_EATER = 0x562
GUNGHO_OUTSIDE_THAMASA = 0x55a
GUNGHO_STRAGO_ROOM_BED = 0x55c
HIDON_EBOTS_ROCK = 0x55e
TEMP_NPC = 0x5f7 # used in many places (doma wor, veldt cave wob, ebot's rock, strago house, coliseum, etc...)
LONE_WOLF_MOG_NARSHE_CLIFF = 0x640
LONE_WOLF_NARSHE_CLIFF_BRIDGE = 0x641
STORES_NARSHE = 0x600
WHELK_GUARD_NARSHE_WOB = 0x604
WHELK_GUARD_TRITOCH_NARSHE_WOB = 0x605 # mine, replacing tritoch in narshe mines beginning
BACK_DOOR_ARVIS_HOUSE = 0x606
KEFKA_DURING_BATTLE_NARSHE_WOB = 0x612
CHAR_LINEUP_BATTLE_NARSHE_WOB = 0x61b
BROWN_SOLDIER1_BATTLE_NARSHE_WOB = 0x61c
GREEN_SOLDIER1_BATTLE_NARSHE_WOB = 0x61d
GREEN_SOLDIER2_BATTLE_NARSHE_WOB = 0x61e
GREEN_SOLDIER3_BATTLE_NARSHE_WOB = 0x61f
GREEN_SOLDIER4_BATTLE_NARSHE_WOB = 0x620
GREEN_SOLDIER5_BATTLE_NARSHE_WOB = 0x621
GREEN_SOLDIER6_BATTLE_NARSHE_WOB = 0x622
BROWN_SOLDIER2_BATTLE_NARSHE_WOB = 0x623
BROWN_SOLDIER3_BATTLE_NARSHE_WOB = 0x624
BROWN_SOLDIER4_BATTLE_NARSHE_WOB = 0x625
BROWN_SOLDIER5_BATTLE_NARSHE_WOB = 0x626
BROWN_SOLDIER6_BATTLE_NARSHE_WOB = 0x627
BANON_DURING_BATTLE_NARSHE_WOB = 0x628
BANON_BEFORE_BATTLE_NARSHE_WOB = 0x62c # mine, using cid at imperial banquet npc bit
SAVE_POINT_SNOWFIELD_NARSHE_WOB = 0x633
IFRIT_SHIVA_MAGITEK_FACTORY = 0x646
SABIN_COLLAPSING_HOUSE = 0x66c
KATARIN_IN_BED_MOBLIZ_WOR = 0x670
GIRLS_WITH_OTHER_CHILDREN_MOBLIZ_WOR = 0x671
DUANE_WITH_CHILDREN_MOBLIZ_WOR = 0x672
KATARIN_WITH_CHILDREN_MOBLIZ_WOR = 0x673
TERRA_DUANE_KATARIN_DOG_SOLDIER_HOUSE_MOBLIZ_WOR = 0x674
TERRA_BY_FIREPLACE_MOBLIZ_WOR = 0x675
SETZER_KOHLINGEN_INN = 0x67f
WEAPON_ROOM_ESPER_NARSHE = 0x68b
MOG_MOOGLE_ROOM_WOR = 0x68d
WEAPON_ELDER_NARSHE = 0x6ad # weapon store owner in back room and elder in bed
MOBLIZ_CITIZENS = 0x653
MOBLIZ_SOLDIERS_LETTER = 0x654
UMARO_NARSHE_WOR = 0x65b
SOLDIERS_MARANDA = 0x65c
MAN_CENTER_MARANDA = 0x65d
ESPER_TERRA_ZOZO = 0x314
RAMUH_ZOZO = 0x31e
RAMUH_MAGICITE_ZOZO = 0x31f
KOHLINGEN_WOR_CITIZENS = 0x67e
CYAN_MT_ZOZO_CLIFF = 0x682
BOOK_OF_SECRETS_CHEST_MT_ZOZO = 0x684
KEY_MT_ZOZO_CLIFF = 0x685
ODIN_STATUE_ANCIENT_CASTLE = 0x696
MARIA_STATUE_ANCIENT_CASTLE = 0x697
BOOKCASE_ANCIENT_CASTLE = 0x6a0
DRAGON_ANCIENT_CASTLE = 0x6a1
DUNCAN_TRAINING = 0x6b5 # before learning bum rush
DUNCAN_STANDING = 0x6bf # after learning bum rush
KEFKA_TOWER_BLUE = 0x39a

LEFT_UNPUSHED_WEIGHT_KEFKA_TOWER = 0x6a5
LEFT_PUSHED_WEIGHT_KEFKA_TOWER = 0x6aa
RIGHT_UNPUSHED_WEIGHT_KEFKA_TOWER = 0x6a7
RIGHT_PUSHED_WEIGHT_KEFKA_TOWER = 0x6ab
CENTER_DOOR_BLOCK_KEFKA_TOWER = 0x6a6

DOOM_STATUE_KEFKA_TOWER = 0x6b0
GODDESS_STATUE_KEFKA_TOWER = 0x6b1
POLTRGEIST_STATUE_KEFKA_TOWER = 0x6b2

# bits [571-5f5] are unused
FANATICS_TOWER_REWARD = 0x571 # used for esper reward


def byte(npc_bit):
    return npc_bit // 8

def bit(npc_bit):
    return npc_bit % 8

def address(npc_bit):
    return 0x1e80 + byte(npc_bit)

def event_byte(npc_bit):
    npc_bit_start = 0x1ee0
    event_bit_start = 0x1e80
    return (npc_bit // 8) - (npc_bit_start - event_bit_start)

def event_bit(npc_bit):
    return npc_bit % 8
